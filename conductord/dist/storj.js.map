{"version":3,"file":"storj.js","sourceRoot":"","sources":["../src/storj.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yCAA2B;AAE3B,kDAA6C;AAI7C,IAAI,MAAM,GAAiC,EAAE,CAAC;AAEjC,QAAA,OAAO,GAAG,CAAO,IAAU,EAAE,EAAE;IACxC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,eAAK,CAAC,MAAM,CAAC;QAC7B,OAAO,EAAE,oBAAoB,IAAI,CAAC,IAAI,EAAE;QACxC,OAAO,EAAE;YACL,MAAM,EAAE;gBACJ,cAAc,EAAE,kBAAkB;aACrC;SACJ;KACJ,CAAC,CAAC;IACH,MAAM,QAAQ,GAAG,MAAM,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IAC/D,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,MAAM,EAAE,QAAQ,CAAC,EAAE,QAAQ,CAAC,CAAC;AACxD,CAAC,CAAA,CAAA;AAEY,QAAA,OAAO,GAAG,CAAO,IAAY,EAAE,EAAE;IAC1C,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IACtD,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC;AAC/D,CAAC,CAAA,CAAC","sourcesContent":["import * as R from 'ramda';\n\nimport axios, { AxiosInstance } from 'axios';\n\nimport { Host } from './model';\n\nlet storjs: Record<number,AxiosInstance> = {};\n\nexport const prepare = async (host: Host) => {\n    storjs[host.port] = axios.create({\n        baseURL: `http://localhost:${host.port}`,\n        headers: {\n            common: {\n                'Content-Type': 'application/json',\n            },\n        },\n    });\n    const hostData = await storjs[host.port].get('/api/dashboard');\n    return R.path(['data', 'data', 'nodeID'], hostData);\n}\n\nexport const collect = async (port: number) => {\n    const resp = await storjs[port].get('/api/dashboard');\n    return R.path(['data', 'data', 'diskSpace', 'used'], resp);\n};\n"]}